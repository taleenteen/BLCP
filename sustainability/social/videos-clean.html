<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>วิดีโอกิจกรรมความรับผิดชอบต่อสังคม | BLCP</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../../css/style.css" />
  </head>
  <body>
    <div class="d-flex">
      <!-- Sidebar Container -->
      <div id="sidebar-container"></div>

      <div class="flex-grow-1">
        <!-- Navbar Container -->
        <div id="navbar-container"></div>

        <!-- Main content below navbar -->
        <main class="container container-fluid p-0">
          <section>
            <div class="card border-0 text-white">
              <img
                src="../../assets/aboutus/aboutus-hero.png"
                alt="aboutus hero"
              />
              <div class="card-img-overlay d-flex justify-content-between">
                <h1 class="card-title">วิดีโอกิจกรรมความรับผิดชอบต่อสังคม</h1>
                <div class="d-flex justify-content-end">
                  <div class="card rounded-pill">
                    <div
                      class="card-body d-flex flex-column justify-content-center gap-2 p-2"
                    >
                      <img
                        src="../../assets/logo/Facebook.png"
                        alt="Facebook logo"
                      />
                      <img src="../../assets/logo/Line.png" alt="Line logo" />
                      <img
                        src="../../assets/logo/Tiktok.png"
                        alt="Tiktok logo"
                      />
                      <img
                        src="../../assets/logo/YouTube.png"
                        alt="YouTube logo"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- Cards Container -->
          <section class="container my-5">
            <div id="cardsContainer"></div>
          </section>
        </main>

        <!-- Footer Container -->
        <div id="footer-container"></div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"
    ></script>
    <script src="../../assets/js/components.js"></script>
    <script src="../../assets/js/script.js"></script>
    <script src="../../assets/js/card.js"></script>
    <script>
      // ข้อมูลโพสต์สำหรับ Social Responsibility Videos
      const postData = [
        {
          id: 1,
          title:
            "โรงไฟฟ้าบีแอลซีพี จับมือเทศบาล นครเมืองมาบตาพุด แปรรูปขยะใบไม้เป็นปุ๋ย ลดปัญหา PM 2.5",
          image:
            "../../assets/posts/social-responsibility-activities/first.png",
        },
        {
          id: 2,
          title:
            "โครงการพัฒนาชุมชนท้องถิ่น ร่วมสร้างความยั่งยืนด้านสิ่งแวดล้อม",
          image:
            "../../assets/posts/social-responsibility-activities/second.png",
        },
        {
          id: 3,
          title: "กิจกรรมปลูกป่าเพื่อลดโลกร้อน ร่วมกับโรงเรียนในชุมชน",
          image:
            "../../assets/posts/social-responsibility-activities/third.png",
        },
        {
          id: 4,
          title: "โครงการฝึกอบรมด้านความปลอดภัยในการทำงาน",
          image: "../../assets/posts/social-responsibility-activities/four.png",
        },
        {
          id: 5,
          title: "กิจกรรมพัฒนาโครงสร้างพื้นฐานชุมชน",
          image:
            "../../assets/posts/social-responsibility-activities/first.png",
        },
        {
          id: 6,
          title: "โครงการส่งเสริมการศึกษาเด็กท้องถิ่น",
          image:
            "../../assets/posts/social-responsibility-activities/second.png",
        },
        {
          id: 7,
          title: "โครงการอนุรักษ์ทรัพยากรธรรมชาติ",
          image:
            "../../assets/posts/social-responsibility-activities/third.png",
        },
        {
          id: 8,
          title: "กิจกรรมจิตอาสาเพื่อสังคม",
          image: "../../assets/posts/social-responsibility-activities/four.png",
        },
        {
          id: 9,
          title: "โครงการสร้างรายได้ให้ชุมชน",
          image:
            "../../assets/posts/social-responsibility-activities/first.png",
        },
        {
          id: 10,
          title: "กิจกรรมดูแลสุขภาพผู้สูงอายุ",
          image:
            "../../assets/posts/social-responsibility-activities/second.png",
        },
        {
          id: 11,
          title: "โครงการพัฒนาเยาวชนท้องถิ่น",
          image:
            "../../assets/posts/social-responsibility-activities/third.png",
        },
        {
          id: 12,
          title: "กิจกรรมส่งเสริมวัฒนธรรมท้องถิ่น",
          image: "../../assets/posts/social-responsibility-activities/four.png",
        },
        // เพิ่มข้อมูลเพื่อทดสอบ pagination
        ...Array.from({ length: 8 }, (_, i) => ({
          id: i + 13,
          title: `กิจกรรมความรับผิดชอบต่อสังคม ${i + 13}`,
          image:
            "../../assets/posts/social-responsibility-activities/first.png",
        })),
      ];

      // Initialize Card Component สำหรับ Post Cards
      let cardComponent = new CardComponent({
        container: document.getElementById("cardsContainer"),
        itemsPerPage: 8,
        cardType: "post",
        onCardClick: (data, index) => {
          // เปิดหน้ารายละเอียดของวิดีโอ/โพสต์
          console.log(`คลิกที่โพสต์: ${data.title} (ID: ${data.id})`);

          // ตัวอย่างการแสดง modal หรือ redirect ไปหน้ารายละเอียด
          alert(`เปิดวิดีโอ: ${data.title}`);

          // หรือ redirect ไปหน้ารายละเอียด
          // window.location.href = `/videos/${data.id}`;
        },
        onPageChange: (page) => {
          console.log(`เปลี่ยนไปหน้า: ${page}`);
          // Scroll to top เมื่อเปลี่ยนหน้า
          window.scrollTo({ top: 0, behavior: "smooth" });
        },
      });

      // โหลดข้อมูลโพสต์
      cardComponent.loadData(postData);

      // เพิ่ม search functionality (ถ้าต้องการ)
      function addSearchFeature() {
        const searchHTML = `
          <div class="row mb-4">
            <div class="col-md-6">
              <input type="text" id="searchInput" class="form-control" placeholder="ค้นหาวิดีโอ...">
            </div>
            <div class="col-md-6">
              <div class="text-muted">
                แสดง ${postData.length} วิดีโอทั้งหมด
              </div>
            </div>
          </div>
        `;

        const cardsContainer = document.getElementById("cardsContainer");
        cardsContainer.insertAdjacentHTML("beforebegin", searchHTML);

        // Add search event listener
        document
          .getElementById("searchInput")
          .addEventListener("input", (e) => {
            cardComponent.search(e.target.value, ["title"]);
          });
      }

      // เรียกใช้ search feature (ถ้าต้องการ)
      // addSearchFeature();
    </script>
  </body>
</html>
